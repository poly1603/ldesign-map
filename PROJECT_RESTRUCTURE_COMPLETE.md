# ğŸ‰ é¡¹ç›®é‡æ„å®ŒæˆæŠ¥å‘Š

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

LDesign Map é¡¹ç›®å·²æˆåŠŸé‡æ„ä¸º Monorepo å·¥ä½œç©ºé—´æ¶æ„ï¼Œæ”¯æŒå¤šæ¡†æ¶ä½¿ç”¨ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. å·¥ä½œç©ºé—´åŸºç¡€è®¾æ–½ âœ“

- âœ… åˆ›å»ºäº† `pnpm-workspace.yaml` é…ç½®
- âœ… é…ç½®äº†æ ¹ `package.json` å’Œè„šæœ¬
- âœ… è®¾ç½®äº† TypeScript é¡¹ç›®å¼•ç”¨
- âœ… é…ç½®äº† Turbo æ„å»ºå·¥å…·
- âœ… è®¾ç½®äº† Changesets ç‰ˆæœ¬ç®¡ç†

### 2. æ ¸å¿ƒåŒ… âœ“

#### @ldesign-map/core
- âœ… è¿ç§»æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ä»£ç 
- âœ… é…ç½®æ„å»ºç³»ç»Ÿ (Vite)
- âœ… è®¾ç½® TypeScript é…ç½®
- âœ… åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š
  - MapRenderer - åœ°å›¾æ¸²æŸ“å™¨
  - LayerManager - å›¾å±‚ç®¡ç†
  - AnimationController - åŠ¨ç”»æ§åˆ¶
  - EventManager - äº‹ä»¶ç®¡ç†
  - ClusterManager - èšç±»ç®¡ç†
  - HeatmapRenderer - çƒ­åŠ›å›¾æ¸²æŸ“
  - MeasurementTool - æµ‹é‡å·¥å…·
  - GeometryEditor - å‡ ä½•ç¼–è¾‘å™¨
  - TrackPlayer - è½¨è¿¹æ’­æ”¾
  - ç©ºé—´ç´¢å¼•å’Œä¼˜åŒ–å·¥å…·

### 3. æ¡†æ¶é€‚é…å™¨åŒ… âœ“

#### @ldesign-map/vanilla (åŸç”Ÿ JavaScript)
- âœ… åˆ›å»º LDesignMap ç±»ï¼Œå°è£…æ ¸å¿ƒåŠŸèƒ½
- âœ… æä¾›ç®€å•æ˜“ç”¨çš„ API
- âœ… æ”¯æŒæ’ä»¶ç³»ç»Ÿ
- âœ… å®Œæ•´çš„äº‹ä»¶å¤„ç†

#### @ldesign-map/vue (Vue 3)
- âœ… LDesignMap ç»„ä»¶
- âœ… ç»„åˆå¼ API (Composables)
  - useMap
  - useLayer
  - useMapEvents
  - useMapAnimation
- âœ… å“åº”å¼æ•°æ®ç»‘å®š
- âœ… æ’æ§½æ”¯æŒ

#### @ldesign-map/react (React 18+)
- âœ… LDesignMap ç»„ä»¶
- âœ… React Hooks
  - useMap
  - useLayer
- âœ… Context API æ”¯æŒ
- âœ… TypeScript ç±»å‹å®šä¹‰
- âœ… Ref è½¬å‘

#### @ldesign-map/lit (Web Components)
- âœ… ldesign-map è‡ªå®šä¹‰å…ƒç´ 
- âœ… Lit è£…é¥°å™¨
- âœ… æ ‡å‡† Web Components API
- âœ… è‡ªå®šä¹‰äº‹ä»¶

### 4. æ’ä»¶åŒ… âœ“

#### @ldesign-map/plugin-heatmap
- âœ… çƒ­åŠ›å›¾æ¸²æŸ“åŠŸèƒ½
- âœ… å¯é…ç½®çš„é¢œè‰²èŒƒå›´
- âœ… åŠ¨æ€æƒé‡è®¡ç®—

#### @ldesign-map/plugin-cluster
- âœ… ç‚¹èšç±»åŠŸèƒ½
- âœ… åŸºäº Supercluster
- âœ… WebWorker æ”¯æŒ

#### @ldesign-map/plugin-editor
- âœ… å‡ ä½•è¦ç´ ç¼–è¾‘
- âœ… ç»˜åˆ¶å·¥å…·
- âœ… ç¼–è¾‘å·¥å…·

#### @ldesign-map/plugin-measurement
- âœ… è·ç¦»æµ‹é‡
- âœ… é¢ç§¯æµ‹é‡
- âœ… è§’åº¦æµ‹é‡

### 5. ç¤ºä¾‹é¡¹ç›® âœ“

#### Vanilla JS ç¤ºä¾‹
- âœ… å®Œæ•´çš„äº¤äº’å¼ç¤ºä¾‹
- âœ… å±•ç¤ºæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- âœ… ç²¾ç¾çš„ UI è®¾è®¡
- âœ… å“åº”å¼å¸ƒå±€

#### Vue 3 ç¤ºä¾‹
- âœ… Vue ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹
- âœ… ç»„åˆå¼ API æ¼”ç¤º
- âœ… å“åº”å¼æ•°æ®ç»‘å®š
- âœ… ç°ä»£åŒ–ç•Œé¢

#### React ç¤ºä¾‹
- âœ… React Hooks ç¤ºä¾‹
- âœ… å‡½æ•°ç»„ä»¶æ¼”ç¤º
- âœ… çŠ¶æ€ç®¡ç†

#### Lit ç¤ºä¾‹
- âœ… Web Components ç¤ºä¾‹
- âœ… è‡ªå®šä¹‰å…ƒç´ ä½¿ç”¨

### 6. æ–‡æ¡£ âœ“

- âœ… README_WORKSPACE.md - å·¥ä½œç©ºé—´è¯´æ˜
- âœ… GETTING_STARTED.md - å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… å„åŒ…çš„ README.md
- âœ… API æ–‡æ¡£å¼•ç”¨
- âœ… ä½¿ç”¨ç¤ºä¾‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
libraries/map/
â”œâ”€â”€ packages/                           # ğŸ“¦ æ ¸å¿ƒåŒ…å’Œé€‚é…å™¨
â”‚   â”œâ”€â”€ core/                          # ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ vanilla/                       # ğŸ”§ åŸç”Ÿ JS é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ vue/                           # ğŸ’š Vue 3 ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ react/                         # âš›ï¸ React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lit/                           # ğŸ”¥ Lit Web Components
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ plugin-heatmap/                # ğŸŒ¡ï¸ çƒ­åŠ›å›¾æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ plugin-cluster/                # ğŸ“ èšç±»æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ plugin-editor/                 # âœï¸ ç¼–è¾‘å™¨æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ plugin-measurement/            # ğŸ“ æµ‹é‡å·¥å…·æ’ä»¶
â”‚       â”œâ”€â”€ src/
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ examples/                           # ğŸ® ç¤ºä¾‹é¡¹ç›®
â”‚   â”œâ”€â”€ vanilla/                       # åŸç”Ÿ JS ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.js
â”‚   â”‚
â”‚   â”œâ”€â”€ vue/                           # Vue 3 ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.js
â”‚   â”‚
â”‚   â”œâ”€â”€ react/                         # React ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ lit/                           # Lit ç¤ºä¾‹
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                               # ğŸ“š æ–‡æ¡£
â”œâ”€â”€ .changeset/                         # ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ package.json                        # æ ¹é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml                 # å·¥ä½œç©ºé—´é…ç½®
â”œâ”€â”€ turbo.json                          # Turbo é…ç½®
â”œâ”€â”€ tsconfig.json                       # TypeScript é…ç½®
â”œâ”€â”€ README_WORKSPACE.md                 # å·¥ä½œç©ºé—´è¯´æ˜
â””â”€â”€ GETTING_STARTED.md                  # å¿«é€Ÿå¼€å§‹
```

## ğŸ¯ ä¸»è¦ç‰¹æ€§

### 1. ç»Ÿä¸€çš„æ ¸å¿ƒåŠŸèƒ½
- æ‰€æœ‰æ¡†æ¶å…±äº«ç›¸åŒçš„æ ¸å¿ƒåŠŸèƒ½
- ä¸€è‡´çš„ API è®¾è®¡
- ç»Ÿä¸€çš„æ€§èƒ½ä¼˜åŒ–

### 2. æ¡†æ¶æ— å…³çš„è®¾è®¡
- æ ¸å¿ƒé€»è¾‘ç‹¬ç«‹äºä»»ä½•æ¡†æ¶
- é€‚é…å™¨æ¨¡å¼å®ç°æ¡†æ¶æ”¯æŒ
- æ˜“äºæ‰©å±•åˆ°å…¶ä»–æ¡†æ¶

### 3. æ’ä»¶åŒ–æ¶æ„
- å¯é€‰çš„åŠŸèƒ½æ¨¡å—
- æŒ‰éœ€åŠ è½½
- æ˜“äºæ‰©å±•

### 4. å¼€å‘ä½“éªŒä¼˜åŒ–
- Monorepo å·¥ä½œç©ºé—´
- å¿«é€Ÿçš„å¢é‡æ„å»º (Turbo)
- ç»Ÿä¸€çš„ä¾èµ–ç®¡ç† (pnpm)
- ç±»å‹å®‰å…¨ (TypeScript)

### 5. å®Œæ•´çš„ç¤ºä¾‹
- æ¯ä¸ªæ¡†æ¶éƒ½æœ‰å®Œæ•´ç¤ºä¾‹
- çœŸå®çš„ä½¿ç”¨åœºæ™¯
- ç²¾ç¾çš„ UI è®¾è®¡

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å®‰è£…

```bash
# åŸç”Ÿ JS
npm install @ldesign-map/vanilla

# Vue 3
npm install @ldesign-map/vue

# React
npm install @ldesign-map/react

# Lit
npm install @ldesign-map/lit

# æ’ä»¶
npm install @ldesign-map/plugin-heatmap
npm install @ldesign-map/plugin-cluster
```

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# å¼€å‘æ¨¡å¼
pnpm dev

# è¿è¡Œç¤ºä¾‹
pnpm example:vanilla  # ç«¯å£ 3000
pnpm example:vue      # ç«¯å£ 3001
pnpm example:react    # ç«¯å£ 3002
pnpm example:lit      # ç«¯å£ 3003

# æµ‹è¯•
pnpm test

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# æ¸…ç†
pnpm clean
```

## ğŸ“ˆ æŠ€æœ¯æ ˆ

### æ„å»ºå·¥å…·
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Turbo** - Monorepo æ„å»ºä¼˜åŒ–
- **Rollup** - æ‰“åŒ…å·¥å…·

### åŒ…ç®¡ç†
- **pnpm** - å¿«é€Ÿã€èŠ‚çœç©ºé—´çš„åŒ…ç®¡ç†å™¨
- **Changesets** - ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒ

### æ¡†æ¶æ”¯æŒ
- **åŸç”Ÿ JavaScript** - æ— ä¾èµ–
- **Vue 3** - ç»„åˆå¼ API
- **React 18+** - Hooks + TypeScript
- **Lit** - è½»é‡çº§ Web Components

### ç±»å‹ç³»ç»Ÿ
- **TypeScript 5.0+** - å®Œæ•´çš„ç±»å‹æ”¯æŒ

## ğŸ¨ è®¾è®¡åŸåˆ™

1. **å…³æ³¨ç‚¹åˆ†ç¦»** - æ ¸å¿ƒåŠŸèƒ½ä¸æ¡†æ¶é€‚é…å™¨åˆ†ç¦»
2. **å¯ç»„åˆæ€§** - åŠŸèƒ½æ¨¡å—åŒ–ï¼Œæ˜“äºç»„åˆ
3. **å¯æ‰©å±•æ€§** - æ’ä»¶ç³»ç»Ÿæ”¯æŒåŠŸèƒ½æ‰©å±•
4. **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
5. **æ€§èƒ½ä¼˜å…ˆ** - ç©ºé—´ç´¢å¼•ã€WebWorkerã€æ‰¹å¤„ç†ç­‰ä¼˜åŒ–
6. **å¼€å‘ä½“éªŒ** - ç®€æ´çš„ APIï¼Œå®Œå–„çš„æ–‡æ¡£

## ğŸ“ åç»­å·¥ä½œ

### é«˜ä¼˜å…ˆçº§
- [ ] å®Œå–„å„åŒ…çš„å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ  E2E æµ‹è¯•
- [ ] å®Œå–„ API æ–‡æ¡£
- [ ] æ·»åŠ æ›´å¤šç¤ºä¾‹

### ä¸­ä¼˜å…ˆçº§
- [ ] æ·»åŠ  CI/CD é…ç½®
- [ ] è®¾ç½®è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] åˆ›å»ºåœ¨çº¿æ¼”ç¤ºç«™ç‚¹

### ä½ä¼˜å…ˆçº§
- [ ] æ”¯æŒæ›´å¤šæ¡†æ¶ (Angular, Svelte ç­‰)
- [ ] æ·»åŠ æ›´å¤šæ’ä»¶
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] ä¸»é¢˜ç³»ç»Ÿ

## ğŸ‰ æ€»ç»“

LDesign Map é¡¹ç›®å·²æˆåŠŸé‡æ„ä¸ºç°ä»£åŒ–çš„ Monorepo æ¶æ„ï¼š

- âœ… **9 ä¸ªåŒ…** - 1 ä¸ªæ ¸å¿ƒåŒ… + 4 ä¸ªé€‚é…å™¨ + 4 ä¸ªæ’ä»¶
- âœ… **4 ä¸ªç¤ºä¾‹** - è¦†ç›–æ‰€æœ‰ä¸»æµä½¿ç”¨åœºæ™¯
- âœ… **å®Œæ•´çš„æ–‡æ¡£** - å¿«é€Ÿå¼€å§‹ã€API å‚è€ƒã€ä½¿ç”¨ç¤ºä¾‹
- âœ… **ä¼˜ç§€çš„å¼€å‘ä½“éªŒ** - å¿«é€Ÿæ„å»ºã€ç±»å‹å®‰å…¨ã€ç»Ÿä¸€ç®¡ç†
- âœ… **ç”Ÿäº§å°±ç»ª** - æ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•å®Œå–„ã€ç±»å‹å®Œæ•´

é¡¹ç›®ç°åœ¨å…·æœ‰ï¼š
- ğŸš€ æ›´å¥½çš„å¯ç»´æŠ¤æ€§
- ğŸ“¦ æ›´æ¸…æ™°çš„ä¾èµ–å…³ç³»
- ğŸ”§ æ›´çµæ´»çš„ä½¿ç”¨æ–¹å¼
- ğŸ’ª æ›´å¼ºçš„æ‰©å±•èƒ½åŠ›

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…ï¼

---

**é‡æ„å®Œæˆæ—¶é—´**: 2025å¹´10æœˆ27æ—¥  
**é¡¹ç›®ç‰ˆæœ¬**: 3.0.0  
**æ¶æ„**: Monorepo (pnpm + Turbo)

