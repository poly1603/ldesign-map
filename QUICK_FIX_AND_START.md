# ğŸš€ å¿«é€Ÿä¿®å¤å’Œå¯åŠ¨æŒ‡å—

## ğŸ“‹ çŠ¶æ€æ¦‚è§ˆ

é¡¹ç›®å·²å®Œæˆ Monorepo æ¶æ„é‡æ„ï¼Œä½†éœ€è¦å®Œæˆæœ€åçš„éªŒè¯å’Œæµ‹è¯•æ­¥éª¤ã€‚

## âš¡ å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1: å®‰è£…ä¾èµ–

```bash
cd D:\WorkBench\ldesign\libraries\map
pnpm install
```

### æ­¥éª¤ 2: ç›´æ¥è¿è¡Œç¤ºä¾‹ï¼ˆä¸éœ€è¦æ„å»ºï¼‰

ç”±äºç¤ºä¾‹ä½¿ç”¨äº† Vite çš„æºç å¼•ç”¨ï¼Œå¯ä»¥ç›´æ¥å¯åŠ¨ï¼š

```bash
# åŸç”Ÿ JS ç¤ºä¾‹
cd examples/vanilla
../../node_modules/.bin/vite --port 3001 --host

# æˆ–è€…ä½¿ç”¨ PowerShell
cd D:\WorkBench\ldesign\libraries\map\examples\vanilla
..\..\node_modules\.bin\vite --port 3001 --host
```

ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€: `http://localhost:3001`

### æ­¥éª¤ 3: æµ‹è¯•åŠŸèƒ½

åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š
- âœ… æ·»åŠ æ•£ç‚¹å›¾å±‚
- âœ… æ·»åŠ è·¯å¾„å›¾å±‚
- âœ… æ·»åŠ å¤šè¾¹å½¢å›¾å±‚
- âœ… æ·»åŠ å…­è¾¹å½¢å›¾å±‚
- âœ… é£è¡Œåˆ°ä¸åŒä½ç½®
- âœ… è§†å›¾æ§åˆ¶ï¼ˆæ—‹è½¬ã€é‡ç½®ï¼‰
- âœ… åŠ¨ç”»æ•ˆæœ
- âœ… æ€§èƒ½æµ‹è¯•ï¼ˆ1000ç‚¹ã€10000ç‚¹ï¼‰

## ğŸ”§ å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Port 3001 is in use`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨å…¶ä»–ç«¯å£
../../node_modules/.bin/vite --port 3005 --host
```

### é—®é¢˜ 2: æ‰¾ä¸åˆ°æ¨¡å—

**é”™è¯¯ä¿¡æ¯**: `Cannot find module '@ldesign-map/core'`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•
cd D:\WorkBench\ldesign\libraries\map\examples\vanilla

# æ£€æŸ¥ vite.config.js ä¸­çš„ alias é…ç½®
# åº”è¯¥æŒ‡å‘æºç ç›®å½•
```

### é—®é¢˜ 3: TypeScript é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `parsing tsconfig.json failed`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿æ‰€æœ‰åŒ…éƒ½æœ‰ tsconfig.json
# å·²åˆ›å»ºçš„æ–‡ä»¶ï¼š
# - packages/core/tsconfig.json
# - packages/vanilla/tsconfig.json
# - packages/vue/tsconfig.json
# - packages/react/tsconfig.json  
# - packages/lit/tsconfig.json
```

## ğŸ“¦ æ„å»ºåŒ…ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦æ„å»ºåŒ…ç”¨äºç”Ÿäº§ï¼š

```bash
cd D:\WorkBench\ldesign\libraries\map

# æ„å»ºæ ¸å¿ƒåŒ…
cd packages/core
node D:\WorkBench\ldesign\tools\builder\bin\ldesign-builder.js

# æ„å»º vanilla åŒ…
cd ../vanilla  
node D:\WorkBench\ldesign\tools\builder\bin\ldesign-builder.js

# æˆ–è€…ä½¿ç”¨æ ¹ç›®å½•è„šæœ¬
cd ../..
pnpm build
```

## ğŸ® ç¤ºä¾‹é¡¹ç›®è¯´æ˜

### Vanilla ç¤ºä¾‹ (examples/vanilla)

**ç‰¹ç‚¹**:
- ç›´æ¥ä½¿ç”¨ deck.gl API
- å±•ç¤ºæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- ç²¾ç¾çš„äº¤äº’å¼ç•Œé¢
- å®æ—¶ FPS ç›‘æ§

**åŠŸèƒ½**:
1. **å›¾å±‚ç®¡ç†**
   - æ•£ç‚¹å›¾å±‚ï¼ˆ10ä¸ªåŸå¸‚ï¼‰
   - è·¯å¾„å›¾å±‚ï¼ˆåŸå¸‚è¿çº¿ï¼‰
   - å¤šè¾¹å½¢å›¾å±‚ï¼ˆåŒºåŸŸèŒƒå›´ï¼‰
   - å…­è¾¹å½¢èšåˆå›¾å±‚ï¼ˆ3D å¯è§†åŒ–ï¼‰

2. **è§†å›¾æ§åˆ¶**
   - é£è¡Œåˆ°åŒ—äº¬/ä¸Šæµ·
   - é‡ç½®è§†å›¾
   - æ—‹è½¬è§†å›¾

3. **åŠ¨ç”»æ•ˆæœ**
   - æŒç»­æ—‹è½¬åŠ¨ç”»
   - è„‰å†²ç¼©æ”¾åŠ¨ç”»
   - å¹³æ»‘è¿‡æ¸¡

4. **æ€§èƒ½æµ‹è¯•**
   - æ·»åŠ 1000ä¸ªéšæœºç‚¹
   - æ·»åŠ 10000ä¸ªéšæœºç‚¹
   - å®æ—¶FPSæ˜¾ç¤º

### Vue ç¤ºä¾‹ (examples/vue)

**ç‰¹ç‚¹**:
- Vue 3 Composition API
- å“åº”å¼æ•°æ®ç»‘å®š
- å®Œæ•´çš„ç»„ä»¶å°è£…

**ä½¿ç”¨**:
```bash
cd examples/vue
pnpm dev  # ç«¯å£ 3001
```

### React ç¤ºä¾‹ (examples/react)

**ç‰¹ç‚¹**:
- React 18+ Hooks
- TypeScript æ”¯æŒ
- å‡½æ•°ç»„ä»¶

**ä½¿ç”¨**:
```bash
cd examples/react
pnpm dev  # ç«¯å£ 3002
```

### Lit ç¤ºä¾‹ (examples/lit)

**ç‰¹ç‚¹**:
- æ ‡å‡† Web Components
- è½»é‡çº§
- æ¡†æ¶æ— å…³

**ä½¿ç”¨**:
```bash
cd examples/lit
pnpm dev  # ç«¯å£ 3003
```

## ğŸ” éªŒè¯æ£€æŸ¥æ¸…å•

### åŸºç¡€éªŒè¯
- [ ] pnpm install æˆåŠŸ
- [ ] æ‰€æœ‰ä¾èµ–å®‰è£…å®Œæˆ
- [ ] æ²¡æœ‰é”™è¯¯ä¿¡æ¯

### æ„å»ºéªŒè¯
- [ ] æ ¸å¿ƒåŒ…æ„å»ºæˆåŠŸ
- [ ] Vanilla åŒ…æ„å»ºæˆåŠŸ
- [ ] Vue åŒ…æ„å»ºæˆåŠŸ
- [ ] React åŒ…æ„å»ºæˆåŠŸ
- [ ] Lit åŒ…æ„å»ºæˆåŠŸ

### è¿è¡ŒéªŒè¯
- [ ] Vanilla ç¤ºä¾‹å¯åŠ¨æˆåŠŸ
- [ ] æµè§ˆå™¨å¯ä»¥è®¿é—®
- [ ] åœ°å›¾æ­£å¸¸æ¸²æŸ“
- [ ] æ‰€æœ‰åŠŸèƒ½æŒ‰é’®å¯ç‚¹å‡»
- [ ] å›¾å±‚å¯ä»¥æ·»åŠ /åˆ é™¤
- [ ] åŠ¨ç”»æ­£å¸¸æ’­æ”¾
- [ ] æ€§èƒ½æµ‹è¯•æ­£å¸¸

### åŠŸèƒ½éªŒè¯
- [ ] æ·»åŠ æ•£ç‚¹å›¾å±‚ - æ˜¾ç¤ºåŸå¸‚æ ‡è®°
- [ ] æ·»åŠ è·¯å¾„å›¾å±‚ - æ˜¾ç¤ºåŸå¸‚è¿çº¿
- [ ] æ·»åŠ å¤šè¾¹å½¢å›¾å±‚ - æ˜¾ç¤ºåŒºåŸŸèŒƒå›´
- [ ] æ·»åŠ å…­è¾¹å½¢å›¾å±‚ - 3Dèšåˆæ˜¾ç¤º
- [ ] é£è¡ŒåŠ¨ç”» - å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡ä½ç½®
- [ ] è§†å›¾æ—‹è½¬ - åœ°å›¾æ—‹è½¬90åº¦
- [ ] æ·»åŠ 1000ç‚¹ - æ€§èƒ½æµ‹è¯•
- [ ] æ·»åŠ 10000ç‚¹ - å‹åŠ›æµ‹è¯•
- [ ] FPSæ˜¾ç¤º - å®æ—¶æ€§èƒ½ç›‘æ§

## ğŸ’» å¼€å‘ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm >= 8
- ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Edge/Firefox æœ€æ–°ç‰ˆï¼‰

## ğŸ“ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# åœ¨æ ¹ç›®å½•
pnpm install        # å®‰è£…ä¾èµ–
pnpm build          # æ„å»ºæ‰€æœ‰åŒ…
pnpm dev            # å¼€å‘æ¨¡å¼
pnpm test           # è¿è¡Œæµ‹è¯•
pnpm clean          # æ¸…ç†æ„å»ºäº§ç‰©

# åœ¨ç¤ºä¾‹ç›®å½•
pnpm dev            # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build          # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm preview        # é¢„è§ˆç”Ÿäº§æ„å»º

# ä½¿ç”¨ filter è¿è¡Œç‰¹å®šåŒ…
pnpm --filter @ldesign-map-example/vanilla dev
pnpm --filter @ldesign-map/core build
```

## ğŸ¯ æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œè¯´æ˜ä¸€åˆ‡æ­£å¸¸ï¼š

1. âœ… æµè§ˆå™¨æ˜¾ç¤ºåœ°å›¾ç•Œé¢
2. âœ… æ§åˆ¶é¢æ¿åœ¨å·¦ä¾§æ˜¾ç¤º
3. âœ… åœ°å›¾åŒºåŸŸåœ¨å³ä¾§æ˜¾ç¤º  
4. âœ… åœ°å›¾ä¸Šæœ‰æµ…è‰²èƒŒæ™¯
5. âœ… ç‚¹å‡»"æ·»åŠ æ•£ç‚¹å›¾å±‚"åå¯ä»¥çœ‹åˆ°åŸå¸‚ç‚¹
6. âœ… FPS æ˜¾ç¤ºä¸º 60 å·¦å³
7. âœ… é¼ æ ‡ç§»åŠ¨æ—¶åæ ‡å®æ—¶æ›´æ–°
8. âœ… å›¾å±‚åˆ—è¡¨æ˜¾ç¤ºå·²æ·»åŠ çš„å›¾å±‚

## ğŸ› æ•…éšœæ’é™¤

### æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :3001

# æ€æ­»å ç”¨è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F

# æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
../../node_modules/.bin/vite --port 3005
```

### ä¾èµ–é—®é¢˜

```bash
# æ¸…ç†å¹¶é‡è£…
cd D:\WorkBench\ldesign\libraries\map
rm -rf node_modules
rm pnpm-lock.yaml
pnpm install
```

### æ„å»ºå¤±è´¥

```bash
# æ¸…ç†æ„å»ºäº§ç‰©
pnpm clean

# é€ä¸ªåŒ…æ„å»ºå¹¶æŸ¥çœ‹é”™è¯¯
cd packages/core
node D:\WorkBench\ldesign\tools\builder\bin\ldesign-builder.js
```

## ğŸ“ è·å–å¸®åŠ©

1. æŸ¥çœ‹ `MAP_WORKSPACE_SETUP_STATUS.md` äº†è§£æ•´ä½“çŠ¶æ€
2. æŸ¥çœ‹ `GETTING_STARTED.md` äº†è§£ä½¿ç”¨æ–¹æ³•
3. æŸ¥çœ‹å„ç¤ºä¾‹çš„ä»£ç äº†è§£å®ç°ç»†èŠ‚
4. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

---

**æœ€åæ›´æ–°**: 2025å¹´10æœˆ27æ—¥  
**ç‰ˆæœ¬**: 3.0.0
